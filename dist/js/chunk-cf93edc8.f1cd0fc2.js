(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-cf93edc8"],{"00fb":function(e,t,a){"use strict";var n={name:"BasicField"},r=a("2877"),i=Object(r.a)(n,function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"field"},[e._t("default")],2)},[],!1,null,null,null);t.a=i.exports},"1a21":function(e,t,a){"use strict";a("2710")},2710:function(e,t,a){},"37a2":function(e,t,a){"use strict";a.d(t,"c",function(){return i}),a.d(t,"b",function(){return s}),a.d(t,"a",function(){return c});var n=a("4337"),r="/user",i=function(e){return Object(n.b)("".concat(r,"/register"),e)},s=function(){return Object(n.a)("".concat(r,"/gameInformation"))},c=function(e,t){return Object(n.a)("".concat(r,"/historyGameRecord"),{page:e,pageSize:t})}},"39ec":function(e,t,a){"use strict";var n=a("464f"),r={name:"Form",props:{formId:{type:String,default:""},validateRule:{type:Object,default:null},successCallback:{type:Function,default:null}},mounted:function(){var e=this;this.validateRule&&this.$nextTick(function(){n.a.init(e.formId,e.validateRule,e.successCallback)})},methods:{validaForm:function(){n.a.validateForm(this.formId)}}},i=a("2877"),s=Object(i.a)(r,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{staticClass:"ui form",attrs:{id:e.formId}},[a("div",{staticClass:"ui stacked segment"},[e._t("default")],2),a("div",{staticClass:"ui error message"})])},[],!1,null,null,null);t.a=s.exports},"3a5c":function(e,t,a){},"464f":function(e,i,s){"use strict";(function(n){s.d(i,"a",function(){return a});var e=s("d4ec"),t=s("bee2"),a=(Object(t.a)(r,null,[{key:"validateForm",value:function(e){var t=n("#".concat(e));return t.form("validate form"),t.form("is valid")}},{key:"init",value:function(e,t,a){n("#".concat(e)).form({transition:"slide down",fields:t,onSuccess:function(){return a&&a(),!1}})}},{key:"notEmptyRule",value:function(e){return this._getTypeAndPrompt("empty","".concat(e,"不能为空"))}},{key:"_getRules",value:function(){return{rules:0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]}}},{key:"_getTypeAndPrompt",value:function(e,t){return{type:e,prompt:t}}},{key:"usernameRules",get:function(){return this._getRules([this._getTypeAndPrompt("minLength[4]","用户名的长度不能小于4位"),this._getTypeAndPrompt("maxLength[16]","用户名的长度不能大于16位"),this._getTypeAndPrompt("regExp[/^[0-9a-zA-Z]+$/]","用户名只能是数字和字母的组合")])}},{key:"passwordRules",get:function(){return this._getRules([this._getTypeAndPrompt("minLength[6]","密码的长度不能小于6位"),this._getTypeAndPrompt("maxLength[32]","密码的长度不能大于32位"),this._getTypeAndPrompt("regExp[/^[0-9a-zA-Z]+$/]","密码只能是数字和字母的组合")])}},{key:"repeatPasswordRules",get:function(){return this._getRules([this._getTypeAndPrompt("match[password]","重复输入的密码与密码不一致")])}},{key:"nicknameRules",get:function(){return this._getRules([this._getTypeAndPrompt("minLength[4]","昵称的长度不能小于4位"),this._getTypeAndPrompt("maxLength[16]","昵称的长度不能大于16位")])}},{key:"captchaRules",get:function(){return this._getRules([this._getTypeAndPrompt("exactLength[4]","验证码的长度必须为4位"),this._getTypeAndPrompt("regExp[/^[0-9a-zA-Z]+$/]","验证码中只包括数字和字母")])}}]),r);function r(){Object(e.a)(this,r)}}).call(this,s("1157"))},"5c26":function(e,t,a){"use strict";var n={name:"LeftIconField",components:{BasicField:a("00fb").a},props:{icon:{type:String,required:!0}}},r=a("2877"),i={name:"LeftIconInputField",components:{LeftIconField:Object(r.a)(n,function(){var e=this.$createElement,t=this._self._c||e;return t("BasicField",[t("div",{staticClass:"ui left icon input"},[t("i",{staticClass:"icon",class:this.icon}),this._t("default")],2)])},[],!1,null,null,null).exports},props:{icon:{type:String,required:!0},data:{type:String,required:!0},name:{type:String,default:""},type:{type:String,default:"text"},placeholder:{type:String,default:""}}},s=Object(r.a)(i,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("LeftIconField",{attrs:{icon:t.icon}},[a("input",{attrs:{name:t.name,type:t.type,placeholder:t.placeholder},domProps:{value:t.data},on:{input:function(e){return t.$emit("update:data",e.target.value)}}})])},[],!1,null,null,null);t.a=s.exports},d5c2:function(e,t,a){"use strict";a.r(t);var n=(a("ac1f"),a("5319"),a("96cf"),a("1da1")),i=a("37a2"),s=a("8c5d"),r=a("464f"),c=a("da6c"),u=a("39ec"),o=a("5c26"),l={name:"Register",components:{BasicField:a("00fb").a,LeftIconInputField:o.a,Form:u.a,CaptchaInput:c.a},data:function(){return{registerForm:{username:"",password:"",repeatPassword:"",nickname:"",code:"",uuid:""}}},methods:{jumpToLogin:function(){this.$router.replace("/login")},submitRegister:function(){var r=this;return Object(n.a)(regeneratorRuntime.mark(function e(){var t,a,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.c)(r.registerForm);case 2:if(t=e.sent,a=t.success,n=t.data,a)return Object(s.h)({message:"".concat(n.nickname,"，恭喜你注册成功，现在正在跳转到登陆页面")}),e.next=9,r.$router.replace("/login?username=".concat(n.username));e.next=11;break;case 9:e.next=12;break;case 11:r.refreshCaptcha();case 12:case"end":return e.stop()}},e)}))()},refreshCaptcha:function(){this.$refs.registerCaptcha.getCaptchaImage()},validateRule:function(){return{username:r.a.usernameRules,password:r.a.passwordRules,repeatPassword:r.a.repeatPasswordRules,nickname:r.a.nicknameRules,code:r.a.captchaRules}},validaRegisterForm:function(){this.$refs.registerForm.validaForm()}}},d=(a("1a21"),a("2877")),p=Object(d.a)(l,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ui middle aligned center aligned grid fullHeight"},[a("div",{staticClass:"column"},[a("h2",{staticClass:"ui teal header"},[t._v(" 注册你的账户 ")]),a("Form",{ref:"registerForm",staticClass:"large",attrs:{"form-id":"registerForm","validate-rule":t.validateRule(),"success-callback":t.submitRegister}},[a("LeftIconInputField",{attrs:{icon:"user",data:t.registerForm.username,placeholder:"用户名",name:"username"},on:{"update:data":function(e){return t.$set(t.registerForm,"username",e)}}}),a("LeftIconInputField",{attrs:{icon:"lock",data:t.registerForm.password,placeholder:"密码",name:"password",type:"password"},on:{"update:data":function(e){return t.$set(t.registerForm,"password",e)}}}),a("LeftIconInputField",{attrs:{icon:"blue lock",data:t.registerForm.repeatPassword,placeholder:"重复输入密码",name:"repeatPassword",type:"password"},on:{"update:data":function(e){return t.$set(t.registerForm,"repeatPassword",e)}}}),a("LeftIconInputField",{attrs:{icon:"green user",data:t.registerForm.nickname,placeholder:"昵称",name:"nickname"},on:{"update:data":function(e){return t.$set(t.registerForm,"nickname",e)}}}),a("BasicField",[a("CaptchaInput",{ref:"loginCaptcha",attrs:{uuid:t.registerForm.uuid},on:{"update:uuid":function(e){return t.$set(t.registerForm,"uuid",e)}},model:{value:t.registerForm.code,callback:function(e){t.$set(t.registerForm,"code",e)},expression:"registerForm.code"}})],1),a("div",{staticClass:"ui fluid large teal button",on:{click:t.validaRegisterForm}},[t._v("注册")])],1),a("div",{staticClass:"ui message"},[t._v(" 已有账户? "),a("a",{attrs:{href:"javascript:void(0)"},on:{click:t.jumpToLogin}},[t._v("登录")])])],1)])},[],!1,null,"73367071",null);t.default=p.exports},da6c:function(e,t,a){"use strict";var n=(a("96cf"),a("1da1")),i=a("fe72"),r={name:"CaptchaInput",props:{uuid:{type:String,required:!0},name:{default:"code",type:String}},data:function(){return{captchaBaseUrl:"",input:""}},mounted:function(){this.getCaptchaImage()},methods:{getCaptchaImage:function(){var r=this;return Object(n.a)(regeneratorRuntime.mark(function e(){var t,a,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.focusIfRefreshOldCaptcha(),r.clearInput(),e.next=4,Object(i.a)();case 4:t=e.sent,a=t.success,n=t.data,a&&(r.captchaBaseUrl="data:image/gif;base64,".concat(n.captchaBase64),r.$emit("update:uuid",n.uuid));case 8:case"end":return e.stop()}},e)}))()},focusIfRefreshOldCaptcha:function(){""!==this.uuid&&this.$refs.captchaInput.focus()},clearInput:function(){this.$emit("update:uuid",""),this.input=""}}},s=(a("f341"),a("2877")),c=Object(s.a)(r,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ui left icon input"},[a("i",{staticClass:"shield alternate icon"}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.input,expression:"input"}],ref:"captchaInput",attrs:{name:"code",placeholder:"验证码",type:"text"},domProps:{value:t.input},on:{input:[function(e){e.target.composing||(t.input=e.target.value)},function(e){return t.$emit("input",e.target.value)}]}}),a("img",{staticClass:"m-margin-l captcha",attrs:{src:t.captchaBaseUrl},on:{click:t.getCaptchaImage}})])},[],!1,null,"70db7126",null);t.a=c.exports},f341:function(e,t,a){"use strict";a("3a5c")}}]);